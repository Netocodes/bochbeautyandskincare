import{j as e,r as n,c as u,a as T,u as S,t as v}from"./index-BHIWjvtg.js";import{u as C}from"./index.esm-mS1EQVGZ.js";import{m as P,g as k,t as A}from"./ToggleSwitch-CtHkZVH1.js";import{a as B}from"./crumbs-B4M5FtKj.js";import R from"./error-page-CIK7ja6G.js";import"./vendor-DUt4hQxu.js";const Y=r=>t=>{const a={};for(const s in t)r.includes(s)||(a[s]=t[s]);return a},H=r=>{const{children:t,className:a,horizontal:s,href:o,theme:c={}}=r,i=typeof o>"u"?"div":"a",m=O(r),d=P(k().card,c);return e.jsxs(i,{"data-testid":"flowbite-card",href:o,className:A(d.root.base,d.root.horizontal[s?"on":"off"],o&&d.root.href,a),...m,children:[e.jsx(M,{...r}),e.jsx("div",{className:d.root.children,children:t})]})},M=({theme:r={},...t})=>{const a=P(k().card,r);return t.renderImage?t.renderImage(a,t.horizontal??!1):t.imgSrc?e.jsx("img",{"data-testid":"flowbite-card-image",alt:t.imgAlt??"",src:t.imgSrc,className:A(a.img.base,a.img.horizontal[t.horizontal?"on":"off"])}):null},O=Y(["renderImage","imgSrc","imgAlt","children","className","horizontal","href","theme"]),E=n.createContext(null),q=()=>n.useContext(E),D=n.memo(({header:r,footer:t,children:a,onStepChange:s,wrapper:o,startIndex:c=0})=>{const[i,m]=n.useState(c),[d,h]=n.useState(!1),x=n.useRef(!0),f=n.useRef(!1),p=n.useRef(()=>{}),y=n.Children.toArray(a).length;x.current=i<y-1,f.current=i>0;const g=n.useCallback(()=>{if(x.current){const l=i+1;m(l),s==null||s(l)}},[i,s]),j=n.useCallback(()=>{if(f.current){p.current=null;const l=i-1;m(l),s==null||s(l)}},[i,s]),b=n.useCallback(l=>{l>=0&&l<y&&(p.current=null,m(l),s==null||s(l))},[y,s]),I=n.useRef(l=>{p.current=l}),w=n.useCallback(async()=>{if(x.current&&p.current)try{h(!0),await p.current(),h(!1),p.current=null,g()}catch(l){throw h(!1),l}else g()},[g]),z=n.useMemo(()=>({nextStep:w,previousStep:j,handleStep:I.current,isLoading:d,activeStep:i,stepCount:y,isFirstStep:!f.current,isLastStep:!x.current,goToStep:b}),[w,j,d,i,y,b]),N=n.useMemo(()=>n.Children.toArray(a)[i],[i,a,r,t]),L=n.useMemo(()=>o?n.cloneElement(o,{children:N}):N,[o,N]);return n.createElement(E.Provider,{value:z},r,L,t)}),F=()=>{const{register:r,handleSubmit:t,formState:{isSubmitSuccessful:a}}=C(),{nextStep:s}=q(),o=c=>{window.sessionStorage.setItem("personalInfo",JSON.stringify(c)),setTimeout(()=>{s()},3e3)};return e.jsx("div",{children:e.jsxs("div",{className:"text-center w-full max-w-xl md:max-w-7xl mx-auto px-4 flex flex-col md:flex-row gap-y-8 gap-x-20 items-center  ",children:[e.jsx("h2",{className:"text-2xl md:text-4xl font-bold text-gray-700",children:"Who are we shipping to :"}),e.jsxs("form",{className:" mt-4",onSubmit:t(o),children:[e.jsx("input",{...r("fullname",{required:"Your full name is required"}),type:"text",placeholder:"Add your Full Name",className:"w-full p-2 py-4 px-5 text-md font-normal placeholder:text-gray-600 border rounded mb-4 text-gray-800"}),e.jsx("input",{...r("phoneNumber",{required:"Phone Number is required",validate:c=>isNaN(c)?"This Must be a Number":!0}),type:"text",placeholder:"Phone Number",className:"w-full p-2 py-4 px-5 text-md font-normal  placeholder:text-gray-600 border rounded mb-4 text-[#690a3a]"}),e.jsx("input",{...r("customerEmail",{required:"Your Email is required",validate:c=>c.includes("@")?!0:"Email Must include and @ symbol"}),type:"email",placeholder:"Input Your Working Email Here",className:"w-full p-2 py-4 px-5 text-md font-normal placeholder:text-gray-600 border rounded text-gray-800"}),e.jsx("div",{className:"flex items-center justify-around mt-6 ",children:e.jsx(u.Button,{type:"submit",children:a?e.jsx(u.Spinner,{className:"h-8 w-8",onPointerEnterCapture:void 0,onPointerLeaveCapture:void 0}):"next",className:"bg-[#8c2643] text-md  px-8 md:text-xl lowercase ",placeholder:void 0,onPointerEnterCapture:"",onPointerLeaveCapture:""})})]})]})})},J=()=>{const{previousStep:r,nextStep:t}=q(),{register:a,handleSubmit:s,formState:{isSubmitSuccessful:o}}=C(),c=i=>{window.sessionStorage.setItem("addressData",JSON.stringify(i)),setTimeout(()=>{t()},3e3)};return e.jsx("div",{children:e.jsxs("div",{className:"text-center w-full max-w-xl md:max-w-7xl mx-auto px-4 flex flex-col md:flex-row gap-y-8 gap-x-20 items-center  ",children:[e.jsx("h2",{className:"  py-4 px-8 leading-tight tracking-tight text-2xl md:text-4xl font-bold text-gray-700 ",children:"Where are we shipping it to :"}),e.jsxs("form",{className:" mt-4",onSubmit:s(c),children:[e.jsx("input",{type:"text",placeholder:"Add your Street / Home Address",...a("homeAdrress",{required:"Your Street Address is required"}),className:"w-full p-2 py-4 px-5 placeholder:text-gray-700 border rounded mb-4 text-gray-700"}),e.jsx("input",{type:"text",placeholder:"Add your City Here",...a("city",{required:"Your City is required to Locate you"}),className:"w-full p-2 py-4 px-5 placeholder:text-gray-700 border rounded mb-4 text-gray-700"}),e.jsx("input",{type:"text",placeholder:"Add your State Here",...a("state",{required:"Your State  is required"}),className:"w-full p-2 py-4 px-5 placeholder:text-gray-700 border rounded mb-4 text-gray-700"}),e.jsx("input",{type:"text",placeholder:"Add your Zip code Here",...a("zip",{required:"Your Zip Code is required"}),className:"w-full p-2 py-4 px-5 placeholder:text-gray-700 border rounded mb-4 text-gray-700"}),e.jsxs("div",{className:"flex items-center justify-between px-6 mt-6 ",children:[e.jsx(u.Button,{children:"go back",onClick:()=>{r()},className:"bg-[#8c2643] text-md  px-8 md:text-xl capitalize ",placeholder:void 0,onPointerEnterCapture:"",onPointerLeaveCapture:""}),e.jsx(u.Button,{children:o?e.jsx(u.Spinner,{className:"h-8 w-8",onPointerEnterCapture:void 0,onPointerLeaveCapture:void 0}):"Next",type:"submit",className:"bg-[#8c2643] text-md  px-8 md:text-xl capitalize ",placeholder:void 0,onPointerEnterCapture:"",onPointerLeaveCapture:""})]})]})]})})},W=()=>{const[r,t]=n.useState(!1),a=T(),s=JSON.parse(window.sessionStorage.getItem("personalInfo")||"{}"),o=JSON.parse(window.sessionStorage.getItem("addressData")||"{}"),{cartItems:c,TotalPrice:i}=S(),m=i();if(!s||!o)return e.jsx("h1",{children:"Fill in the form"});const d={personalInfo:s,addressData:o,cartItems:c,total:m},h=async()=>{t(!0);try{const f=await(await fetch("https://bochbeautyandskincare-production.up.railway.app/send-email",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({requestedData:d})})).json();v(f.message),t(!1),setTimeout(()=>{a("/verify-payment")},5e3)}catch(x){console.error(x),v.error("Could Not submit Request, please try again.."),t(!1)}};return e.jsxs("div",{children:[e.jsxs(H,{className:"max-w-3xl p-6 mx-auto bg-white dark:bg-gray-800 shadow-md",children:[e.jsx("div",{className:"mb-4 flex items-center justify-between",children:e.jsx("h5",{className:"text-xl font-bold leading-none text-gray-900 dark:text-white",children:"Payment options: Bank Transfers"})}),e.jsx("div",{className:"flow-root",children:e.jsxs("ul",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:[e.jsx("li",{className:"py-3 sm:py-4",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"shrink-0"}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"truncate text-sm font-medium text-gray-700 dark:text-white",children:"Bank Account Number"}),e.jsx("p",{className:"truncate text-3xl text-gray-800  font-semibold ",children:"8020705588"})]}),e.jsx("div",{className:"inline-flex items-center text-base font-semibold text-gray-900 dark:text-white",children:e.jsx(u.Button,{children:"Copy",className:"bg-[#8c2643] text-md  px-8 md:text-xl lowercase rounded-full",placeholder:void 0,onPointerEnterCapture:"",onPointerLeaveCapture:""})})]})}),e.jsx("li",{className:"py-3 sm:py-4",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"shrink-0"}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"truncate text-sm font-medium text-gray-700 dark:text-white",children:"Bank Account Name"}),e.jsx("p",{className:"truncate text-2xl text-gray-800 dark:text-gray-400",children:"Netochukwu Ronaldo Amaugo"})]}),e.jsx("div",{className:"inline-flex items-center text-base font-semibold text-gray-900 dark:text-white",children:"$367"})]})}),e.jsx("li",{className:"pb-0 pt-3 sm:pt-4",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"shrink-0"}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"truncate text-sm font-medium text-gray-700 dark:text-white",children:"Bank Name"}),e.jsx("p",{className:"truncate text-2xl text-gray-800 ",children:"Palmplay Nigeria"})]}),e.jsx("div",{className:"inline-flex items-center text-base font-semibold text-gray-900 dark:text-white",children:e.jsx(u.Button,{children:"Copy",className:"bg-[#8c2643] text-md  px-5 md:text-xl lowercase rounded-full",placeholder:void 0,onPointerEnterCapture:"",onPointerLeaveCapture:""})})]})})]})})]}),e.jsx("div",{className:"flex items-center justify-center py-6",children:e.jsx(u.Button,{children:r?e.jsx(u.Spinner,{className:"h-8 w-8",onPointerEnterCapture:void 0,onPointerLeaveCapture:void 0}):"Submit",onClick:h,disabled:r,className:"bg-[#8c2643] text-md  md:text-xl capitalize rounded-full",placeholder:void 0,onPointerEnterCapture:"",onPointerLeaveCapture:""})})]})},Z=()=>e.jsx("div",{className:"w-full",children:e.jsxs(D,{children:[e.jsx(F,{}),e.jsx(J,{}),e.jsx(W,{})]})}),X=()=>{const{cartItems:r}=S();return e.jsxs("div",{className:"w-full h-full py-12",children:[e.jsx(B,{}),r.length==0?e.jsx("div",{children:e.jsx(R,{})}):e.jsx("div",{className:"w-full py-20 flex items-center justify-center bg-gray-300 text-white",children:e.jsx(Z,{})})]})};export{X as default};
