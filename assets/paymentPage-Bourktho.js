import{j as e,r as n,c as x,a as T,u as k,t as N}from"./index-FZE9WIFs.js";import{u as C}from"./index.esm-D3dNtV53.js";import{m as P,g as A,t as E}from"./ToggleSwitch-GIzv3d3A.js";import{a as S}from"./axios-BxgaBfug.js";import{a as H}from"./crumbs-DmTfqMwB.js";import M from"./error-page-CvSFYRBw.js";import"./vendor-DUt4hQxu.js";const Y=t=>r=>{const a={};for(const s in r)t.includes(s)||(a[s]=r[s]);return a},D=t=>{const{children:r,className:a,horizontal:s,href:o,theme:c={}}=t,i=typeof o>"u"?"div":"a",f=R(t),u=P(A().card,c);return e.jsxs(i,{"data-testid":"flowbite-card",href:o,className:E(u.root.base,u.root.horizontal[s?"on":"off"],o&&u.root.href,a),...f,children:[e.jsx(F,{...t}),e.jsx("div",{className:u.root.children,children:r})]})},F=({theme:t={},...r})=>{const a=P(A().card,t);return r.renderImage?r.renderImage(a,r.horizontal??!1):r.imgSrc?e.jsx("img",{"data-testid":"flowbite-card-image",alt:r.imgAlt??"",src:r.imgSrc,className:E(a.img.base,a.img.horizontal[r.horizontal?"on":"off"])}):null},R=Y(["renderImage","imgSrc","imgAlt","children","className","horizontal","href","theme"]),q=n.createContext(null),I=()=>n.useContext(q),W=n.memo(({header:t,footer:r,children:a,onStepChange:s,wrapper:o,startIndex:c=0})=>{const[i,f]=n.useState(c),[u,y]=n.useState(!1),h=n.useRef(!0),g=n.useRef(!1),m=n.useRef(()=>{}),p=n.Children.toArray(a).length;h.current=i<p-1,g.current=i>0;const d=n.useCallback(()=>{if(h.current){const l=i+1;f(l),s==null||s(l)}},[i,s]),j=n.useCallback(()=>{if(g.current){m.current=null;const l=i-1;f(l),s==null||s(l)}},[i,s]),w=n.useCallback(l=>{l>=0&&l<p&&(m.current=null,f(l),s==null||s(l))},[p,s]),z=n.useRef(l=>{m.current=l}),v=n.useCallback(async()=>{if(h.current&&m.current)try{y(!0),await m.current(),y(!1),m.current=null,d()}catch(l){throw y(!1),l}else d()},[d]),L=n.useMemo(()=>({nextStep:v,previousStep:j,handleStep:z.current,isLoading:u,activeStep:i,stepCount:p,isFirstStep:!g.current,isLastStep:!h.current,goToStep:w}),[v,j,u,i,p,w]),b=n.useMemo(()=>n.Children.toArray(a)[i],[i,a,t,r]),B=n.useMemo(()=>o?n.cloneElement(o,{children:b}):b,[o,b]);return n.createElement(q.Provider,{value:L},t,B,r)}),J=()=>{const{register:t,handleSubmit:r,formState:{isSubmitSuccessful:a}}=C(),{nextStep:s}=I(),o=c=>{window.sessionStorage.setItem("personalInfo",JSON.stringify(c)),setTimeout(()=>{s()},3e3)};return e.jsx("div",{children:e.jsxs("div",{className:"text-center w-full bg-gray-800 bg-clip-padding backdrop-filter  backdrop-blur-lg bg-opacity-20 backdrop-saturate-50 backdrop-contrast-150 max-w-xl md:max-w-7xl mx-auto px-4 py-5 md:py-12 flex flex-col md:flex-row gap-y-8 gap-x-20 items-center  ",children:[e.jsx("h2",{className:"text-3xl max-w-[65rem] md:text-4xl font-bold bg-[#8c2643] py-3 px-4 text-gray-200",children:"Who are we shipping to :"}),e.jsxs("form",{className:" mt-4",onSubmit:r(o),children:[e.jsx("input",{...t("fullname",{required:"Your full name is required"}),type:"text",placeholder:"Add your Full Name",className:"w-full p-2 py-4 px-5 text-md font-normal placeholder:text-gray-600 border rounded mb-4 text-gray-800"}),e.jsx("input",{...t("phoneNumber",{required:"Phone Number is required",validate:c=>isNaN(c)?"This Must be a Number":!0}),type:"text",placeholder:"Phone Number",className:"w-full p-2 py-4 px-5 text-md font-normal  placeholder:text-gray-600 border rounded mb-4 text-[#690a3a]"}),e.jsx("input",{...t("customerEmail",{required:"Your Email is required",validate:c=>c.includes("@")?!0:"Email Must include and @ symbol"}),type:"email",placeholder:"Input Your Working Email Here",className:"w-full p-2 py-4 px-5 text-md font-normal placeholder:text-gray-600 border rounded text-gray-800"}),e.jsx("div",{className:"flex items-center justify-end mt-6 ",children:e.jsx(x.Button,{type:"submit",children:a?e.jsx(x.Spinner,{className:"h-8 w-8",onPointerEnterCapture:void 0,onPointerLeaveCapture:void 0}):"next",className:"bg-[#8c2643] text-md  px-8 md:text-xl capitalize ",placeholder:void 0,onPointerEnterCapture:"",onPointerLeaveCapture:""})})]})]})})},O=()=>{const{previousStep:t,nextStep:r}=I(),{register:a,handleSubmit:s,formState:{isSubmitSuccessful:o}}=C(),c=i=>{window.sessionStorage.setItem("addressData",JSON.stringify(i)),setTimeout(()=>{r()},3e3)};return e.jsx("div",{children:e.jsxs("div",{className:"text-center w-full bg-gray-500 bg-clip-padding backdrop-filter  backdrop-blur-2xl bg-opacity-20 backdrop-saturate-50 backdrop-contrast-150 max-w-xl md:max-w-7xl mx-auto px-4 py-5 md:py-12 flex flex-col md:flex-row gap-y-8 gap-x-20 items-center  ",children:[e.jsx("h2",{className:" leading-tight tracking-tight text-2xl md:text-4xl font-bold bg-[#8c2643] py-3 px-4 text-gray-200 ",children:"Where are we shipping it to :"}),e.jsxs("form",{className:" mt-4",onSubmit:s(c),children:[e.jsx("input",{type:"text",placeholder:"Add your Street / Home Address",...a("homeAdrress",{required:"Your Street Address is required"}),className:"w-full p-2 py-4 px-5 placeholder:text-gray-700 border rounded mb-4 text-gray-700"}),e.jsx("input",{type:"text",placeholder:"Add your City Here",...a("city",{required:"Your City is required to Locate you"}),className:"w-full p-2 py-4 px-5 placeholder:text-gray-700 border rounded mb-4 text-gray-700"}),e.jsx("input",{type:"text",placeholder:"Add your State Here",...a("state",{required:"Your State  is required"}),className:"w-full p-2 py-4 px-5 placeholder:text-gray-700 border rounded mb-4 text-gray-700"}),e.jsx("input",{type:"text",placeholder:"Add your Zip code Here",...a("zip",{required:"Your Zip Code is required"}),className:"w-full p-2 py-4 px-5 placeholder:text-gray-700 border rounded mb-4 text-gray-700"}),e.jsxs("div",{className:"flex items-center justify-between px-6 mt-6 ",children:[e.jsx(x.Button,{children:"go back",onClick:()=>{t()},className:"bg-[#8c2643] text-md  px-8 md:text-xl capitalize ",placeholder:void 0,onPointerEnterCapture:"",onPointerLeaveCapture:""}),e.jsx(x.Button,{children:o?e.jsx(x.Spinner,{className:"h-8 w-8",onPointerEnterCapture:void 0,onPointerLeaveCapture:void 0}):"Next",type:"submit",className:"bg-[#8c2643] text-md  px-8 md:text-xl capitalize ",placeholder:void 0,onPointerEnterCapture:"",onPointerLeaveCapture:""})]})]})]})})},G=()=>{const[t,r]=n.useState(!1),a=T(),s=JSON.parse(window.sessionStorage.getItem("personalInfo")||"{}"),o=JSON.parse(window.sessionStorage.getItem("addressData")||"{}"),{cartItems:c,TotalPrice:i}=k(),f=i();if(!s||!o)return e.jsx("h1",{children:"Fill in the form"});const u={personalInfo:s,addressData:o,cartItems:c,total:f},y=async()=>{var h,g,m,p;r(!0);try{const d=await S.post("https://bochbeautyandskincare-production.up.railway.app/send-email",{requestedData:u});console.log("This is the response from the backend",d.data),N.success(d.data.message),setTimeout(()=>{a("/verify-payment")},5e3)}catch(d){console.error(d),S.isAxiosError(d)?(N.error(((g=(h=d.response)==null?void 0:h.data)==null?void 0:g.error)||"Failed to send data"),console.log((p=(m=d.response)==null?void 0:m.data)==null?void 0:p.error)):N.error("An unexpected error occurred"),r(!1)}};return e.jsxs("div",{children:[e.jsxs(D,{className:"max-w-3xl p-6 mx-auto bg-white dark:bg-gray-800 shadow-md",children:[e.jsx("div",{className:"mb-4 flex items-center justify-between",children:e.jsx("h5",{className:"text-xl font-bold leading-none text-gray-900 dark:text-white",children:"Payment options: Bank Transfers"})}),e.jsx("div",{className:"flow-root",children:e.jsxs("ul",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:[e.jsx("li",{className:"py-3 sm:py-4",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"shrink-0"}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"truncate text-sm font-medium text-gray-700 dark:text-white",children:"Bank Account Number"}),e.jsx("p",{className:"truncate text-3xl text-gray-800  font-semibold ",children:"8020705588"})]}),e.jsx("div",{className:"inline-flex items-center text-base font-semibold text-gray-900 dark:text-white",children:e.jsx(x.Button,{children:"Copy",className:"bg-[#8c2643] text-md  px-8 md:text-xl lowercase rounded-full",placeholder:void 0,onPointerEnterCapture:"",onPointerLeaveCapture:""})})]})}),e.jsx("li",{className:"py-3 sm:py-4",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"shrink-0"}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"truncate text-sm font-medium text-gray-700 dark:text-white",children:"Bank Account Name"}),e.jsx("p",{className:"truncate text-2xl text-gray-800 dark:text-gray-400",children:"Netochukwu Ronaldo Amaugo"})]}),e.jsx("div",{className:"inline-flex items-center text-base font-semibold text-gray-900 dark:text-white",children:"$367"})]})}),e.jsx("li",{className:"pb-0 pt-3 sm:pt-4",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"shrink-0"}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"truncate text-sm font-medium text-gray-700 dark:text-white",children:"Bank Name"}),e.jsx("p",{className:"truncate text-2xl text-gray-800 ",children:"Palmplay Nigeria"})]}),e.jsx("div",{className:"inline-flex items-center text-base font-semibold text-gray-900 dark:text-white",children:e.jsx(x.Button,{children:"Copy",className:"bg-[#8c2643] text-md  px-5 md:text-xl lowercase rounded-full",placeholder:void 0,onPointerEnterCapture:"",onPointerLeaveCapture:""})})]})})]})})]}),e.jsx("div",{className:"flex items-center justify-center py-6",children:e.jsx(x.Button,{children:t?e.jsx(x.Spinner,{className:"h-8 w-8",onPointerEnterCapture:void 0,onPointerLeaveCapture:void 0}):"Submit",onClick:y,disabled:t,className:"bg-[#8c2643] text-md  md:text-xl capitalize rounded-full",placeholder:void 0,onPointerEnterCapture:"",onPointerLeaveCapture:""})})]})},V=()=>e.jsx("div",{className:"w-full",children:e.jsxs(W,{children:[e.jsx(J,{}),e.jsx(O,{}),e.jsx(G,{})]})}),ee=()=>{const{cartItems:t}=k();return e.jsx("div",{className:"",children:t.length==0?e.jsx("div",{children:e.jsx(M,{})}):e.jsxs("div",{children:[e.jsx("div",{className:"absolute bg-[#ffffff]",children:e.jsx(H,{})}),e.jsx("div",{className:"w-full h-[80dvh] py-20 flex items-center justify-center bg-gray-500 bg-no-repeat bg-cover  text-white",style:{backgroundImage:'url("https://images.unsplash.com/photo-1621243804936-775306a8f2e3?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1950&q=80")'},children:e.jsx(V,{})})]})})};export{ee as default};
